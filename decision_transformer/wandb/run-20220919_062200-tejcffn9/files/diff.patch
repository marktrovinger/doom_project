diff --git a/decision_transformer/generate_dataset.py b/decision_transformer/generate_dataset.py
index 9216dc3..3f3a8ee 100644
--- a/decision_transformer/generate_dataset.py
+++ b/decision_transformer/generate_dataset.py
@@ -41,22 +41,25 @@ def make_env():
     env = WarpFrame(env)
     return env
 
+def main():
+    env = make_env()
+    #env = VecVideoRecorder(env, f"videos/{run.id}", record_video_trigger=lambda x: x % 2000 == 0, video_length=200)
+    env = VecFrameStack(env, 4, "last")
 
-env = make_env()
-#env = VecVideoRecorder(env, f"videos/{run.id}", record_video_trigger=lambda x: x % 2000 == 0, video_length=200)
-env = VecFrameStack(env, 4, "last")
 
+    #model = PPO(config["policy_type"], env, verbose=1, tensorboard_log=f"runs/{run.id}")
+    model = DQN(config["policy_type"], env, verbose=1, tensorboard_log=f"runs/{run.id}")
+    model.learn(
+            total_timesteps=config["total_timesteps"],
+            callback=WandbCallback(
+            gradient_save_freq=100,
+            model_save_path=f"models/{run.id}",
+            verbose=2,
+        ),
+    )
+    model.save_replay_buffer(f"./dataset/dqn_replay/{config['env_name']}")
 
-#model = PPO(config["policy_type"], env, verbose=1, tensorboard_log=f"runs/{run.id}")
-model = DQN(config["policy_type"], env, verbose=1, tensorboard_log=f"runs/{run.id}")
-model.learn(
-        total_timesteps=config["total_timesteps"],
-        callback=WandbCallback(
-        gradient_save_freq=100,
-        model_save_path=f"models/{run.id}",
-        verbose=2,
-    ),
-)
-model.save_replay_buffer(f"./dataset/dqn_replay/{config['env_name']}")
+    run.finish()
 
-run.finish()
\ No newline at end of file
+if __name__ == '__main__':
+    main()
\ No newline at end of file
diff --git a/decision_transformer/wandb/latest-run b/decision_transformer/wandb/latest-run
index 454c9c8..9c7ffe1 120000
--- a/decision_transformer/wandb/latest-run
+++ b/decision_transformer/wandb/latest-run
@@ -1 +1 @@
-run-20220819_091603-2owmow5j
\ No newline at end of file
+run-20220919_062200-tejcffn9
\ No newline at end of file
